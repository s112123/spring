-- 주문 테이블
DROP TABLE IF EXISTS orders;
CREATE TABLE orders(
	id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
	code VARCHAR(255) NOT NULL UNIQUE,
	email VARCHAR(40) NOT NULL,
	title VARCHAR(30) NOT NULL,
	total INT NOT NULL,
	regdate DATETIME
);

-- 주문내역 테이블
DROP TABLE IF EXISTS orders_product;
CREATE TABLE orders_product(
	id INT NOT NULL AUTO_INCREMENT PRIMARY KEY,
	code  VARCHAR(255) NOT NULL,
	pname VARCHAR(30) NOT NULL,
	price INT NOT NULL,
	qty INT NOT NULL,
	img VARCHAR(255),
	FOREIGN KEY(code) REFERENCES orders(code)
	ON UPDATE CASCADE ON DELETE CASCADE
);